<ion-view view-title="Settings">
  <ion-content>
    <div class="list">
      <div class="item item-input-inset">
        <button class="button button-icon icon ion-help-circled padding-right" ng-click="openModal();"></button>
        <label class="item-input-wrapper">
          <span class="input-label">API Key:</span>
          <input ng-model="API_KEY" placeholder="API Key" type="password">
        </label>
        <button class="button button-clear button-small" ng-click="saveKey(API_KEY)">
          Save
        </button>
      </div>
      <div class="item item-text-wrap text-center" ng-class="apiError.type ? apiError.type : 'assertive'" ng-if="apiError">
        {{apiError.message}}
      </div>
      <div class="item item-text-wrap text-center">
        Click the '?' icon to get help to find your API Key.
      </div>
    </div>
    <div class="list">
      <ion-checkbox ng-change="changeVibration(enableVibration)" ng-model="enableVibration">Enable Vibration? - {{enableVibration}}</ion-checkbox>
    </div>
  </ion-content>
</ion-view>
<script id="setting-api-modal.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar>
      <button class="button button-icon button-clear ion-chevron-down" ng-click="closeModal()"></button>
      <h1 class="title">API Key</h1>
    </ion-header-bar>
    <ion-content overflow-scroll="true">
      <div class="row responsive-sm">
        <div class="col">
          <p class="no-margin">
            Get your API key by logging into Challonge and copying your API key from the Developer API Settings. Get your API Key from
            <a style="color: #fff" ng-click="openChallonge()" href="#">Challonge</a>
            or using the page below:
          </p>
        </div>
      </div>
      <iframe src="https://challonge.com/settings/developer" style="width: 100vw; height: 100vh">
        <p>
          Your device does not support iframes. Get your API Key from
          <a href="https://challonge.com/settings/developer">Challonge</a>.
        </p>
      </iframe>
    </ion-content>
  </ion-modal-view>
</script>
